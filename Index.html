<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fundamentos de JavaScript</title>
</head>
<body>
    <script>
        //El contexto (o alcance) de una función es por lo general, window. Así que en ciertos casos, cuando intentamos referirnos a this en alguna parte del código, es posible que tengamos un comportamiento inesperado, porque el contexto quizás no sea el que esperamos.

            const diego = {
                nombre: `Diego`,
                apellido: `Fernando`,
                edad: 26
            }
            const yesika = {
                nombre: `Yesika`,
                apellido: `costés`,
                edad: 26
            }

            function saludar(saludo='Hola') {
                console.log(`${saludo}, mi nombre es ${this.nombre}`);
                console.log('');
                
            }

            // saludar()  // Hola mi nombre es undefined
        
        // Existen al menos tres maneras de cambiar el contexto de una función

            // * Usando el método .bind, enviamos la referencia a la función sin ejecutarla, pasando el contexto como parámetro.

            const saludarADiego = saludar.bind(diego)
            const saludarAYesika = saludar.bind(yesika)

            setTimeout(saludar.bind(diego),3000)
            setTimeout(saludar.bind(diego,'Hola che'),3000)

            saludarAYesika()


        // Usando el método .call, ejecutamos inmediatamente la función con el contexto indicado sin tener que llamarla

            saludar.call(diego, 'parse')

        //Usando el método .apply, es similar a .call pero los parámetros adicionales se pasan como un arreglo de valores

            saludar.apply(yesika, ['hey!', ])
    </script>
</body>
</html>